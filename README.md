Description
-----------
VDJMapReduce is a program for analyzing immunoglobulin sequence data that works with the MapReduce framework to process fastapair files in a hadoop distributed filesystem. At the moment, it parses fastapair files and aggregates the number of mutations found by reference sequence name. More features to come!

Installation
----
To use this application you will need [Java 1.7 or later](http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html).
You will also need [maven](https://maven.apache.org) to build the application.

* Clone the repository using git.

```
git clone https://github.com/khalemano/VDJMapReduce.git
```

* Call maven to build the application.

```
cd VDJMapReduce
mvn package
```

* A jar file will appear in the VDJMapReduce/target/ directory

Usage
----
This program has been tested on [hadoop 2.7.1](https://hadoop.apache.org/releases.html).
The program is run with the following syntax.

	hadoop jar VDJMapReduce-0.0.1-SNAPSHOT.jar main.MutationFrequency /path/to/input/ /path/to/output/
	
Note that the output directory cannot exist yet. The program will make the output directory you specify.
 
Fastapair input files 
---------------
Fastapair files are generated by the [USEARCH](http://www.drive5.com/usearch/) commandline tool.

    >1 Cts=329
    GGCTGAGCTGGTGAGGCCTGGGTCTTCAGTGAAGCTGTCCTGCAAGGCTTCTGGCTAC
    >mIGHV1-61*01
    GGCTGAGCTGGTGAGGCCTGGGTCTTCAGTGAAGCTGTCCTGCAAGGCTTCTGGCTAC
    
    >3 Cts=235 
    AGCTGAGCTGATGAAGCCTGGGGCCTCAGTGAAGCTTTCCTGCAAGGCTACTGGCTAC
    >mIGHV1-9*01
    AGCTGAGCTGATGAAGCCTGGGGCCTCAGTGAAGCTTTCCTGCAAGGCTACTGGCTAC
 
CSV output files 
------
The program currently outputs a csv file. Each row contains the name of the data file, the reference sequence name, and the number of mutations found.

	Example:
	file,name,mutations
	data1.fa,mIGHV1-19*01,151
